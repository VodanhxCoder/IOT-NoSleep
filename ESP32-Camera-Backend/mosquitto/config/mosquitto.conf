# Mosquitto MQTT Broker Configuration

# IPv4 listener (ESP32 + backend resolve via mDNS -> IPv4 only)
listener 1883 0.0.0.0
socket_domain ipv4
allow_anonymous true  # dev only, change in production

# WebSocket listener (for web clients)
listener 9001
protocol websockets

# Persistence
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest stdout

# Message size (10MB for images - new format)
max_packet_size 10485760
